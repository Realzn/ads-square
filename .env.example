# ============================================================
# ADS-SQUARE — Variables d'environnement
# Copier en .env.local pour le développement
# Ajouter dans Cloudflare Pages → Settings → Environment variables
# ============================================================

# --- SUPABASE (obligatoire) ---
NEXT_PUBLIC_SUPABASE_URL=https://xxxx.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=eyJhbG...
SUPABASE_SERVICE_ROLE_KEY=eyJhbG...     # ⚠️ JAMAIS côté client

# --- STRIPE (ajouter quand KYC validé) ---
STRIPE_SECRET_KEY=sk_test_...            # sk_test_ pour test, sk_live_ pour prod
STRIPE_WEBHOOK_SECRET=whsec_...          # Depuis Stripe Dashboard → Webhooks
NEXT_PUBLIC_STRIPE_ENABLED=false         # Passer à "true" quand Stripe est prêt

# --- SITE ---
NEXT_PUBLIC_SITE_URL=https://ads-square.com   # URL de redirect après paiement

# --- ADMIN (dashboard admin interne) ---
ADMIN_SECRET=change_this_to_a_strong_random_secret   # Générer avec: openssl rand -hex 32

# --- CRON (expiration automatique des blocs) ---
CRON_SECRET=change_this_secret   # Même valeur que ADMIN_SECRET si tu veux simplifier
# Configurer un cron externe sur https://cron-job.org (gratuit) :
# URL : https://ads-square.pages.dev/api/cron/expire
# Header : x-cron-token: <CRON_SECRET>
# Fréquence : tous les jours à 01:00 UTC

# --- EMAILS transactionnels (Resend — gratuit 3000/mois) ---
RESEND_API_KEY=re_xxxx...                  # Depuis https://resend.com → API Keys
RESEND_FROM_EMAIL=ADS-SQUARE <noreply@ads-square.com>
# ⚠️ Le domaine d'envoi doit être vérifié dans Resend (DNS TXT + DKIM)
# Pendant les tests, tu peux envoyer vers ton propre email sans vérification de domaine.
#
# Crons à configurer sur https://cron-job.org (gratuit) :
#
#   1. Expiration  : GET https://ads-square.pages.dev/api/cron/expire
#                   Header: x-cron-token: <CRON_SECRET>
#                   Schedule: 0 1 * * * (01:00 UTC chaque jour)
#
#   2. Rappels J-3 : GET https://ads-square.pages.dev/api/cron/remind
#                   Header: x-cron-token: <CRON_SECRET>
#                   Schedule: 0 9 * * * (09:00 UTC chaque jour)
